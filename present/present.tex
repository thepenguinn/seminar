\documentclass{beamer}

% \input{../preamble.tex}

% \usepackage{minted}

\usepackage[size=custom,width=16,height=9,scale=0.4]{beamerposter}
% \usepackage[size=custom, width=12.8, height=9.6, scale=0.4]{beamerposter}

\usepackage[T1]{fontenc}
\usepackage{tcolorbox}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{blindtext}
\usepackage{svg}
\usepackage{fontspec}
\usepackage{booktabs}
\usepackage[style = ieee]{biblatex}
\usepackage{blindtext}
\usepackage{setspace}

\usetikzlibrary{calc}
\usetikzlibrary{intersections,decorations.markings}

\makeatletter
\tikzset{
  use path for main/.code={%
    \tikz@addmode{%
      \expandafter\pgfsyssoftpath@setcurrentpath\csname tikz@intersect@path@name@#1\endcsname
    }%
  },
  use path for actions/.code={%
    \expandafter\def\expandafter\tikz@preactions\expandafter{\tikz@preactions\expandafter\let\expandafter\tikz@actions@path\csname tikz@intersect@path@name@#1\endcsname}%
  },
  use path/.style={%
    use path for main=#1,
    use path for actions=#1,
  }
}
\setsansfont{Garamond.ttf}

% \usefonttheme{serif}
% \usepackage{beamercolorthemedracula}

% \addbibresource{abstract.bib} %Import the bibliography file

\usetheme{metropolis}

\definecolor{forestbg}      {RGB} {31, 30, 24}

\title{TinyML in Agriculture Sector}

\subtitle{Awakening of Minds in Low Power Edge Devices}

\date{\today}

\author{
    Daniel V Mathew
}

\institute{Rajiv Gandhi Institute of Technology, Kottayam}

\def\supervisor{
    Prof. Sujithamol S
}

\def\leafColorPrimaryName{Sage}
\def\leafColorPrimaryRGB{138, 184, 114}
\def\leafColorPrimaryHex{\#8AB872}
\definecolor{leafColorPrimary} {RGB} {\leafColorPrimaryRGB}
%%
\def\leafColorSecondaryName{Cactus Spike}
\def\leafColorSecondaryRGB{204, 224, 153}
\def\leafColorSecondaryHex{\#CCE099}
\definecolor{leafColorSecondary} {RGB} {\leafColorSecondaryRGB}

\definecolor{colorBlue}   {HTML} {33539E}
\definecolor{colorSky}    {HTML} {7FACD6}
\definecolor{colorViolet} {HTML} {BFB8DA}
\definecolor{colorPink}   {HTML} {E8B7D4}
\definecolor{colorMaroon} {HTML} {A5678E}

\definecolor{colorRampart} {HTML} {BDB7B7}
\definecolor{colorCaramel} {HTML} {B89B93}
\definecolor{colorCortex} {HTML} {A59691}
\definecolor{colorDove} {HTML} {B6AFA5}
\definecolor{colorCathedral} {HTML} {ABA7A6}
\definecolor{colorWind} {HTML} {CAC4C4}

\definecolor{colorRed} {HTML} {E44E54}
\definecolor{colorLightRed} {HTML} {F46367}
\definecolor{colorVeryLightRed} {HTML} {D1AE97}
\definecolor{colorDarkRed} {HTML} {581319}
\definecolor{colorDarkGreen} {HTML} {2E4330}

\definecolor{colorTest} {HTML} {133330}

\renewcommand\alert[1] {%
    {\color{colorRed}#1}%
}

\newcommand\tableBox[2] {
    \begin{tcolorbox}[
            coltitle = leafColorPrimary,
            colbacktitle = leafColorSecondary,
            colback = leafColorSecondary,
            colframe = leafColorSecondary,
            title=#1,
            fonttitle=\bfseries,
            detach title,
        ]
        \begin{minipage}[t]{0.1\textwidth}
            \begin{flushleft}
                \tcbtitle
            \end{flushleft}
        \end{minipage}
        \begin{minipage}[t]{0.9\textwidth}
            #2
        \end{minipage}
    \end{tcolorbox}
}

% \setbeamertemplate{background} {
%     \begin{tikzpicture} [remember picture, overlay]
%         \filldraw [
%             colorWind,
%         ]
%         (current page.north west) rectangle (current page.south east)
%         ;
%     \end{tikzpicture}
% }

% \setbeamertemplate{frametitle}{
%     \begin{tikzpicture} [remember picture, overlay]
%         \node (title) at (current page.north west) [
%             black, anchor = north west
%         ] {\strut\insertframetitle\strut};
%         \draw[
%             black,
%             very thick,
%             line cap = round,
%         ]
%         (title.east) -- (title.east -| current page.east)
%         ;
%     \end{tikzpicture}%
% }

\setbeamercolor{frametitle}{%
  fg=white,
  bg=colorMaroon
}

\newcommand\tikzframetitle[2] {
    \draw (current page.north west) ++(0.75cm, -0.75cm) coordinate (frametitle) ;
    \node [anchor = north west] (frametitle) at (frametitle) {
        \begin{minipage} {8cm}
            \setstretch{0.75}
            \huge
            {\Large #1} \\ #2
        \end{minipage}
    }
    ;
}

\colorlet{fgcol}{colorDarkGreen}

\def\markMainInnerRadius{0.175cm}
\def\markMainOuterRadius{0.3cm}
\def\markSubRadius{0.075cm}
\def\markCornerRadius{0.1cm}

\begin{document}

\maketitle

% \begin{frame} {Introduction}
%     \begin{tikzpicture}
%
%         \draw (0, 0) coordinate (tmp);
%         \foreach \x in {
%             colorDarkGreen,
%             colorRed,
%             colorBlue,
%             colorSky,
%             colorViolet,
%             colorPink,
%             colorMaroon,
%             %%
%             colorRampart,
%             colorCaramel,
%             colorCortex,
%             colorDove,
%             colorCathedral%
%         } {
%             \filldraw [ \x ] (tmp) circle (1cm) (tmp) ++(1.5, 0) coordinate (tmp);
%         }
%
%     \end{tikzpicture}
% \end{frame}

%% Making Sense of Data
\begin{frame} {}

    \begin{tikzpicture} [
            remember picture,
            overlay,
        ]

        \draw (0, 0)
        coordinate (origin)
        (current page.east) ++(1, 0) coordinate (edge)
        ;

        \begin{scope}
            %% Humidity
            \draw []
            (current page.south) ++(1.0cm, 2.5cm) coordinate (humidityMarkCenter)
            ;
            \path [name path = markHumeHandle, rounded corners = \markCornerRadius]
            (humidityMarkCenter) ++(135:\markMainOuterRadius) coordinate (humidityMarkFirst)
            (humidityMarkCenter) ++(135:(0.75cm + \markMainOuterRadius) coordinate (humidityMarkSecond)
            (humidityMarkSecond) ++(-1, 0) coordinate (humidityMarkThird)
            (humidityMarkFirst) -- (humidityMarkSecond) -- (humidityMarkThird)
            ;
            \draw [use path = markHumeHandle, very thick] ;
            ;
            \filldraw [fgcol]
            (humidityMarkThird) circle (\markSubRadius)
            ;
            \draw [fgcol]
            (humidityMarkThird) node [left = 6pt] {
                Humidity Data
            }
            ;

            %% Temperature
            \draw []
            (current page.south) ++(5.0cm, 6.55cm) coordinate (temperatureMarkCenter)
            ;
            \path [name path = markTempHandle, rounded corners = \markCornerRadius]
            (temperatureMarkCenter) ++(135:\markMainOuterRadius) coordinate (temperatureMarkFirst)
            (temperatureMarkCenter) ++(135:(0.75cm + \markMainOuterRadius) coordinate (temperatureMarkSecond)
            (temperatureMarkSecond) ++(-1, 0) coordinate (temperatureMarkThird)
            (temperatureMarkFirst) -- (temperatureMarkSecond) -- (temperatureMarkThird)
            ;
            \draw [use path = markTempHandle, very thick] ;
            ;
            \filldraw [fgcol]
            (temperatureMarkThird) circle (\markSubRadius)
            ;
            \draw [fgcol]
            (temperatureMarkThird) node [left = 6pt] {
                Temperature Data
            }
            ;

            \clip [rotate = 45, rounded corners = 0.7cm]
            (edge) ++(-10, -15) rectangle ++(20, 20)
            ;

            \begin{scope}
                \node [anchor = east] (img) at (edge) {
                    \includegraphics[height = \paperheight]{low.jpg}
                }
                ;

                %% Humidity
                \filldraw [white!90!fgcol]
                (humidityMarkCenter) circle (\markMainInnerRadius)
                ;
                \draw [white!90!fgcol, very thick]
                (humidityMarkCenter) circle (\markMainOuterRadius)
                ;
                \draw [use path = markHumeHandle, white!90!fgcol, very thick] ;

                %% Temperature
                \filldraw [white!90!fgcol]
                (temperatureMarkCenter) circle (\markMainInnerRadius)
                ;
                \draw [white!90!fgcol, very thick]
                (temperatureMarkCenter) circle (\markMainOuterRadius)
                ;
                \draw [use path = markTempHandle, white!90!fgcol, very thick] ;

            \end{scope}
        \end{scope}

        \tikzframetitle{Making} {Sense of Data}

        \draw (frametitle.south west) ++(0, -0.5cm) coordinate (content) ;
        \node [anchor = north west]  (content) at (content) {
            \begin{minipage} {6cm}
                \begin{itemize}[]
                    \item Say something.
                    \item Interesting.
                \end{itemize}
            \end{minipage}
        }
        ;

        \draw (0, 0)
        coordinate (origin)
        (current page.west) coordinate (edge)
        ;
        \begin{scope} [transform canvas = {yshift = -2.2cm, xshift = 0.5cm}]
            \draw []
            (edge) ++(2cm, -0.5cm) coordinate (pixelMarkCenter)
            ;
            \path [name path = markHandle, rounded corners = \markCornerRadius]
            (pixelMarkCenter) ++(-45:\markMainOuterRadius) coordinate (pixelMarkFirst)
            (pixelMarkCenter) ++(-45:(1cm + \markMainOuterRadius) coordinate (pixelMarkSecond)
            (pixelMarkSecond) ++(1, 0) coordinate (pixelMarkThird)
            (pixelMarkFirst) -- (pixelMarkSecond) -- (pixelMarkThird)
            ;
            \draw [use path = markHandle, very thick] ;
            \filldraw [fgcol]
            (pixelMarkThird) circle (\markSubRadius)
            ;
            \draw [fgcol]
            (pixelMarkThird) node [right = 6pt] {
                Pixel Data
            }
            ;
            \clip [rotate = -45, rounded corners = 0.7cm]
            (edge) rectangle ++(2.5, 2.5)
            ;
            \begin{scope}
                \node [anchor = west] (pixel) at (edge) {
                    \includegraphics[height = \paperheight]{low.jpg}
                }
                ;
                \draw [thin, step = 0.1, white, opacity = 0.40]
                (edge) ++(-1, -2) grid ++(5, 5)
                ;
                \filldraw [white!90!fgcol]
                (pixelMarkCenter) circle (\markMainInnerRadius)
                ;

                \draw [white!90!fgcol, very thick]
                (pixelMarkCenter) circle (\markMainOuterRadius)
                ;
                \draw [use path = markHandle, white!90!fgcol, very thick] ;
            \end{scope}
        \end{scope}

    \end{tikzpicture}

\end{frame}

%% Learning to Ask the Right Questions
\begin{frame} {}

    \begin{tikzpicture} [
            remember picture,
            overlay,
        ]
        \tikzframetitle{Asking}{The Right Questions}

        \draw (frametitle.south west) ++(0, -0.5cm) coordinate (content) ;
        \node [anchor = north west]  (content) at (content) {
            \begin{minipage} {0.45\paperwidth}
                In order to make sense of the data, we need to ask the right questions about the data.
                The sequence of these questions is known as an \alert{Algorithm}.
            \end{minipage}
        }
        ;

        \filldraw [colorTest]
        (current page.north east) ++(-7,0) coordinate (workFlowTop)
        (workFlowTop) rectangle (current page.south east)
        ;

        \draw (workFlowTop) ++(0, -0.2) coordinate (tmp);
        \foreach \x in {1, 2, 3, 4} {
            \draw [very thick, white, rounded corners = 0.2cm, line cap = round]
            (tmp) ++(0, -1) -- ++(3.5, -0.8) -- ++(3.5, 0.8)
            (tmp) ++(0, -0.25\paperheight) coordinate (tmp)
            ;
        }

        \draw ($(workFlowTop)!0.5!(current page.north east)$) ++(0, -0.8) coordinate (tmp);
        \foreach \x in {
            Finding a Problem,
            Selecting an Algorithm,
            Implementing the Algorithm,
            Solving the Problem%
        } {
            \draw [ultra thick, white, rounded corners = 0.2cm]
            (tmp)
            node [anchor = center] {
                \begin{minipage} {7cm}
                    \centering
                    \x
                \end{minipage}
            }
            % (tmp) ++(0, -1) -- ++(3.5, -1.25) -- ++(3.5, 1.25)
            (tmp) ++(0, -0.25\paperheight) coordinate (tmp)
            ;
        }

        %% Methodology

        \begin{scope}
            \draw
            (current page.center) ++(1.75cm, 0) coordinate (workFlowMarkCenter)
            % (current page.center) ++(1.6cm, 0.2cm) coordinate (workFlowMarkCenter)
            ;
            \path [name path = markWorkHandle, rounded corners = \markCornerRadius]
            (workFlowMarkCenter) ++(-180:\markMainOuterRadius) coordinate (workFlowMarkFirst)
            (workFlowMarkFirst) ++(-1, 0) coordinate (workFlowMarkSecond)
            (workFlowMarkSecond) ++(-135:0.75cm) coordinate (workFlowMarkThird)
            (workFlowMarkFirst) -- (workFlowMarkSecond) -- (workFlowMarkThird)
            ;
            \draw [use path = markWorkHandle, very thick] ;
            \filldraw [fgcol]
            (workFlowMarkThird) circle (\markSubRadius)
            ;
            \draw [fgcol]
            (workFlowMarkThird) node (workFlowMark) [left = 6pt] {
                Typical Way of Solving a Problem
            }
            ;
            \clip (workFlowTop) rectangle (current page.south east);
            \begin{scope}
                \filldraw [white!90!fgcol]
                (workFlowMarkCenter) circle (\markMainInnerRadius)
                ;
                \draw [white!90!fgcol, very thick]
                (workFlowMarkCenter) circle (\markMainOuterRadius)
                ;
                \draw [white!90!fgcol, use path = markWorkHandle, very thick] ;
            \end{scope}
        \end{scope}

        \draw (content.south west |- workFlowMark.south west) ++(0, -0.5cm) coordinate (content) ;
        \node [anchor = north west]  (content) at (content) {
            \begin{minipage} {0.45\paperwidth}
                But what if the sheer number of questions one must ask to get to the right answer gets
                so overwhelming?
            \end{minipage}
        }
        ;

        \draw (content.south west) ++(0, -0.5cm) coordinate (content) ;
        \node [anchor = north west]  (content) at (content) {
            \begin{minipage} {0.45\paperwidth}
                But before that...
            \end{minipage}
        }
        ;

    \end{tikzpicture}


\end{frame}

% \begin{frame} {Matrices are just Consdened If-Elses}
% \end{frame}
%
% \begin{frame} {Guess Who's Good at Crunching Matrices?}
% \end{frame}
%
% \begin{frame} {Weight of the Ever Growing Data}
% \end{frame}
%
% \begin{frame} {TinyML: Introduction}
% \end{frame}

\end{document}
